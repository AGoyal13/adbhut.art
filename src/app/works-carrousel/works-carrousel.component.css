:root{
    /* fallback tokens (kept conservative) */
    --bg: #0b1220;
    --text: #f6f8fb;
    --muted-text: #9aa4b2;
    --accent: #6ef0ff;
    --panel: rgba(255,255,255,0.02);
    --gutter: clamp(16px, 4vw, 32px);
  
    /* Layout variables you can override from parent (landing) */
    --card-w: 360px;                 /* default card width */
    --card-h: 260px;                 /* default card height (aspect) */
    --carousel-max-w: 1100px;        /* stage max width */
    --carousel-padding: 20px;        /* internal padding buffer */
  }
  
  /* wrapper — intrinsic sizing */
  .carousel-wrap {
    max-width: var(--carousel-max-w);
    margin: 0 auto;
    padding: clamp(18px, 4vh, 48px) var(--gutter);
    box-sizing: border-box;
    color: var(--text);
    display:flex;
    flex-direction:column;
    gap:16px;
  }
  
  /* stage outer provides perspective and centers content */
  .carousel-stage-outer {
    perspective: 1400px;
    perspective-origin: 50% 50%;
    display:flex;
    justify-content:center;
    align-items:center;
    /* stage height is derived from card size plus padding so it's intrinsic */
    min-height: calc(var(--card-h) + (var(--carousel-padding) * 2));
    box-sizing: border-box;
    width: 100%;
  }
  
  /* the stage is positioned relative and its visible height equals card height + padding.
     we intentionally do NOT hard-code a fixed pixel height other than via vars above */
  .carousel-stage {
    width: 100%;
    max-width: var(--carousel-max-w);
    box-sizing: border-box;
    /* Keep transform-style to preserve 3d children */
    transform-style: preserve-3d;
    transition: transform 700ms cubic-bezier(.2,.9,.25,1);
    position: relative; /* slides are positioned relative to this box */
    height: calc(var(--card-h) + (var(--carousel-padding) * 2));
    display: block;
    overflow: visible; /* allow slides to pop forward without clipping */
  }
  
  /* slide (card) — still translated in 3D, but sizing uses CSS variables */
  .slide.card {
    position: absolute; /* necessary for ring overlap, but contained within stage height */
    left: 50%;
    top: 50%;
    transform-style: preserve-3d;
    transform-origin: center center;
    width: var(--card-w);
    height: var(--card-h);
    margin-left: calc(var(--card-w) * -0.5);
    margin-top: calc(var(--card-h) * -0.5);
    border-radius: 14px;
    overflow: hidden;
    box-shadow: 0 18px 56px rgba(2,2,4,0.55);
    cursor: pointer;
    transition: box-shadow 260ms, transform 420ms;
    backface-visibility: hidden;
  }
  
  /* responsive defaults for small screens — parent can further override */
  @media (max-width: 880px) {
    :root { --card-w: 320px; --card-h: 230px; }
  }
  @media (max-width: 520px) {
    :root { --card-w: calc(100vw - 48px); --card-h: calc((100vw - 48px) * 0.66); }
    .carousel-stage { height: calc(var(--card-h) + (var(--carousel-padding) * 2)); }
  }
  
  /* image styling inside card */
  .slide img {
    width: 100%;
    height: 100%;
    height: auto;
    width: auto;
    object-fit: contain;
    display:block;
  }
  .slide img:hover {
    /* slight zoom on hover */
    transform: scale(1.5);
    transition: transform 420ms cubic-bezier(.2,.9,.25,1);
  }
  
  /* glass overlay */
  .glass {
    position: absolute;
    left: 12px;
    right: 12px;
    bottom: 12px;
    height: 80px;
    width: 80%;
    left: 50%;
    transform: translateX(-50%);
    border-radius: 12px;
    pointer-events: none;
    overflow: hidden;
    background: linear-gradient(
    180deg,
    rgba(255,255,255,0.025),
    rgba(255,255,255,0.01)
  );
  border: 1px solid rgba(255,255,255,0.05);
  box-shadow: 0 6px 18px rgba(0,0,0,0.35);

  backdrop-filter: blur(6px) saturate(110%);
  -webkit-backdrop-filter: blur(6px) saturate(110%);
  }
  
  /* glass inner */
  .glass-inner {
    padding: 10px 12px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap: 8px;
    box-sizing: border-box;
  }
  
  /* improve title readability */
  .title {
    font-family: var(--font-heading, 'Manrope', system-ui, sans-serif);
    font-weight: 700;
    font-size: 14px;
    color: var(--text);
    text-shadow: 0 1px 1px rgba(0,0,0,0.4); /* tiny lift for contrast */
  }
  
  .meta-sub {
    color: rgba(255,255,255,0.78); /* slightly brighter */
    font-size: 13px;
  }
  
  /* small interaction polish */
  .slide:focus,
  .slide:hover {
    transform: translateZ(40px) scale(1.02); /* TS will override rotateY/translateZ with angle */
    box-shadow: 0 28px 80px rgba(0,0,0,0.7);
    z-index: 40;
  }
  
  /* reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .carousel-stage, .slide { transition: none !important; }
  }
  
  .image-wrap {
    position: relative;          /* anchor for glass */
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;         /* center image vertically */
    justify-content: center;     /* center image horizontally */
    overflow: hidden;
  }